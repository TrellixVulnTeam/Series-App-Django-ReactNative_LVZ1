{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nvar _jsxFileName = \"/home/lusk/Documents/projetos/Series App/SeriesApp/src/pages/AddPage.js\";\nimport React, { useState } from 'react';\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Alert from \"react-native-web/dist/exports/Alert\";\nimport { KeyboardAwareScrollView } from 'react-native-keyboard-aware-scroll-view';\nimport FormSerie from \"../components/Forms/FormSerie\";\nimport CreateHeader from \"../components/Headers/CreateHeader\";\nimport APIServices from \"../APIServices/APIServices\";\nimport store from \"../store/store\";\nimport ButtonPostSerie from \"../components/Buttons/ButtonPostSerie\";\nimport { useDispatch } from 'react-redux';\nimport { imgUrlSet } from \"../store/postslice\";\nexport default function AddPage(props) {\n  var navigation = props.navigation;\n  var token = store.getState().login_reducer.token;\n\n  var _useState = useState(false),\n      _useState2 = _slicedToArray(_useState, 2),\n      error = _useState2[0],\n      setError = _useState2[1];\n\n  var _useState3 = useState(\"\"),\n      _useState4 = _slicedToArray(_useState3, 2),\n      error_message = _useState4[0],\n      setMessage = _useState4[1];\n\n  var _useState5 = useState(false),\n      _useState6 = _slicedToArray(_useState5, 2),\n      loading = _useState6[0],\n      setLoading = _useState6[1];\n\n  var imgUrl = store.getState().post_serie_reducer.imgUrl;\n  var dispatch = useDispatch();\n\n  var Post_Serie = function Post_Serie(obj_params) {\n    setLoading(true);\n    console.log(imgUrl, \"aqui\");\n    APIServices.PostSerie(token.payload, obj_params, imgUrl).then(function (response) {\n      setLoading(false);\n      setError(false);\n      console.log(JSON.stringify(response));\n      Alert.alert('Success', 'Your Serie was created with success!', [{\n        text: \"Ok\",\n        onPress: function onPress() {\n          navigation.navigate(\"Landing\");\n        }\n      }]);\n    }).catch(function (error) {\n      setLoading(false);\n      setError(true);\n      setMessage(error.message);\n      console.log(JSON.stringify(error));\n      Alert.alert(\"error\", \"\" + JSON.stringify(error.response.data), [{\n        text: \"Ok\",\n        onPress: function onPress() {}\n      }]);\n    });\n  };\n\n  var Handler_changes = function Handler_changes(obj_params) {\n    Post_Serie(obj_params);\n  };\n\n  return React.createElement(KeyboardAwareScrollView, {\n    keyboardShouldPersistTaps: 'always',\n    contentContainerStyle: style.container,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 9\n    }\n  }, React.createElement(CreateHeader, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 13\n    }\n  }), React.createElement(FormSerie, {\n    error: error,\n    error_message: error_message,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 13\n    }\n  }), React.createElement(ButtonPostSerie, {\n    Handler_changes: Handler_changes,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 13\n    }\n  }));\n}\nvar style = StyleSheet.create({\n  container: {\n    flexGrow: 1,\n    paddingHorizontal: 20\n  }\n});","map":{"version":3,"sources":["/home/lusk/Documents/projetos/Series App/SeriesApp/src/pages/AddPage.js"],"names":["React","useState","KeyboardAwareScrollView","FormSerie","CreateHeader","APIServices","store","ButtonPostSerie","useDispatch","imgUrlSet","AddPage","props","navigation","token","getState","login_reducer","error","setError","error_message","setMessage","loading","setLoading","imgUrl","post_serie_reducer","dispatch","Post_Serie","obj_params","console","log","PostSerie","payload","then","response","JSON","stringify","Alert","alert","text","onPress","navigate","catch","message","data","Handler_changes","style","container","StyleSheet","create","flexGrow","paddingHorizontal"],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\n\nimport { View, Text, StyleSheet, Alert } from 'react-native';\nimport { KeyboardAwareScrollView } from 'react-native-keyboard-aware-scroll-view';\n\nimport FormSerie from '../components/Forms/FormSerie';\nimport CreateHeader from '../components/Headers/CreateHeader';\nimport APIServices from '../APIServices/APIServices';\nimport store from '../store/store';\nimport ButtonPostSerie from '../components/Buttons/ButtonPostSerie';\nimport { useDispatch } from 'react-redux';\nimport { imgUrlSet } from '../store/postslice';\n\nexport default function AddPage(props){\n\n    const { navigation } = props;\n    const token = store.getState().login_reducer.token;\n\n    const [ error, setError ] = useState(false);\n    const [ error_message, setMessage ] = useState(\"\");\n    const [ loading, setLoading ] = useState(false);\n\n    const imgUrl = store.getState().post_serie_reducer.imgUrl;\n\n    const dispatch = useDispatch();\n\n    const Post_Serie = (obj_params) => {\n        setLoading(true);\n        console.log(imgUrl ,\"aqui\");\n        APIServices.PostSerie(token.payload, obj_params, imgUrl)\n        .then(response => {\n            setLoading(false); setError(false);\n            console.log(JSON.stringify(response))\n            Alert.alert(\n                'Success',\n                'Your Serie was created with success!',\n                [\n                 {\n                    text:\"Ok\",\n                    onPress: () => {navigation.navigate(\"Landing\")}\n                 }\n                ]\n            );\n        })\n        .catch(error => {\n            setLoading(false); setError(true); setMessage(error.message);\n            console.log(JSON.stringify(error));\n            Alert.alert(\n                \"error\",\n                `${JSON.stringify(error.response.data)}`,\n               [ {\n                    text:\"Ok\",\n                    onPress: () => {}\n                }]\n            );\n        })\n    }\n\n    const Handler_changes = (obj_params) => {\n        Post_Serie(obj_params);\n    }\n\n    return(\n        <KeyboardAwareScrollView keyboardShouldPersistTaps={'always'} contentContainerStyle={style.container}>\n            <CreateHeader />\n            <FormSerie error={error} error_message={error_message}/>\n            <ButtonPostSerie Handler_changes={Handler_changes}/>\n        </KeyboardAwareScrollView>\n    )\n}\n\nconst style = StyleSheet.create({\n    container:{\n        flexGrow:1,\n        paddingHorizontal:20\n    }\n})"]},"metadata":{},"sourceType":"module"}